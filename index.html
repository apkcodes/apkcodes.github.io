<div id="header"></div>
<h2>Recent Apps and Games!</h2>
<ul id="subpages-list"></ul>
<div id="footer"></div>
<script>
    fetch("https://api.github.com/repos/apkcodes/apkcodes.github.io/contents/")
    .then(response => response.json())
    .then(data => {
        let list = document.getElementById("subpages-list");
        data.forEach(item => {
            if (item.type === "dir") {
                let li = document.createElement("li");
                let a = document.createElement("a");
                a.href = item.name + "/";
                a.innerText = item.name;
                li.appendChild(a);
                list.appendChild(li);
            }
        });
    })
    .catch(error => console.error("Error fetching repo contents:", error));
</script>
<script>
    function loadComponent(id, file) {
        fetch(file)
            .then(response => response.text())
            .then(data => document.getElementById(id).innerHTML = data)
            .catch(error => console.error("Error loading " + file, error));
    }

    loadComponent("header", "/header.html");
    loadComponent("footer", "/footer.html");
</script>
